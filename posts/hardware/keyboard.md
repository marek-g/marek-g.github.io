---
layout: page
title: Keyboard
parent: Hardware
---

# Keyboard

Layout editor: https://www.keyboard-layout-editor.com
Paste this JSON data to `Raw data` tab:

``` json
[{c:"#777700",t:"#222222",p:"DCS"},"Esc",{x:1,c:"#222222",t:"#666666"},"F1","F2","F3","F4",{t:"#222222"},"F5",{x:2.25,c:"#666666"},"Esc",{x:1,c:"#222222",t:"#666666"},"F1","F2","F3","F4",{x:0.5,c:"#666666",t:"#222222"},"F5","F6","F7","F8",{x:0.5,c:"#222222",t:"#666666"},"F9","F10","F11","F12",{x:0.25,c:"#666666",t:"#222222"},"PrtSc","Scroll Lock","Pause\nBreak"],
[{y:0.5,c:"#222222",t:"#666666"},"~\n`","!\n1","@\n2","#\n3","$\n4","%\n5","^\n6",{x:2.25},"&\n7","*\n8","(\n9",")\n0","_\n-","+\n=",{c:"#777700",t:"#222222"},"Backspace","Backspace",{c:"#222222",t:"#666666"},"*\n8","(\n9",")\n0","_\n-","+\n=",{c:"#666666",t:"#222222",w:2},"Backspace",{x:0.25},"Insert","Home","PgUp",{x:0.25},"Num Lock","/","*","-"],
[{c:"#777700",w:1.5},"Tab",{c:"#222222",t:"#666666\n\n#88ff00\n#ff8800"},"Q\n\n`\n~",{t:"#666666\n\n#88ff00"},"W\n\n<",{t:"#666666\n\n#88ff00\n#ff8800"},"E\n\n>\nĘ",{t:"#666666\n\n#88ff00"},"R\n\n\"","T\n\n.",{x:2.75,t:"#666666\n#0088ff\n#88ff00",w:1.5},"Y\nPgUp\n&",{t:"#666666\n#0088ff\n#88ff00\n#ff8800"},"U\nHome\n7\n[","I\n↑\n8\n]","O\nEnd\n9\nÓ",{t:"#666666\n#0088ff\n#88ff00"},"P\nDelete\n%",{t:"#666666"},"{\n[","}\n]","|\n\\","I","O","P","{\n[","}\n]",{c:"#666666",t:"#222222",w:1.5},"|\n\\",{x:0.25},"Delete","End","PgDn",{x:0.25,c:"#222222",t:"#666666"},"7\nHome","8\n↑","9\nPgUp",{c:"#666666",t:"#222222",h:2},"+"],
[{c:"#0088ff",w:1.75,l:true},"Caps Lock\n\n\n\nNAVIGATION",{c:"#222222",t:"#666666\n\n#88ff00\n#ff8800"},"A\n\n!\nĄ",{t:"#666666\n#0088ff\n#88ff00\n#ff8800\n\n\n\n\n\n#00ff80"},"S\nAlt\n-\nŚ\n\n\n\n\n\nAlt","D\nShift\n+\n{\n\n\n\n\n\nShift",{n:true},"F\nCtrl\n=\n}\n\n\n\n\n\nCtrl",{t:"#666666\n\n#88ff00\n\n\n\n\n\n\n#00ff80"},"G\n\n#\n\n\n\n\n\n\nWin",{x:2.5,t:"#666666\n#0088ff\n#88ff00",w:1.75,l:true},"H\nPgDn\n|",{t:"#666666\n#0088ff\n#88ff00\n#ff8800"},"J\n←\n4\n(","K\n↓\n5\n)","L\n→\n6\nŁ",{t:"#666666\n#0088ff\n#88ff00",n:true},"; :\nBackspace\n?",{t:"#666666"},"\"\n'",{c:"#777700",t:"#222222"},"Enter",{n:true},"Enter",{c:"#222222",t:"#666666"},"K","L",":\n;","\"\n'",{c:"#666666",t:"#222222",w:2.25},"Enter",{x:3.5,c:"#222222",t:"#666666"},"4\n←","5","6\n→"],
[{c:"#777700",t:"#222222\n\n#88ff00",w:2.25},"Shift\n\n:",{c:"#222222",t:"#666666\n#0088ff\n#88ff00\n#ff8800\n\n\n#0088ff"},"Z\nUndo\n^\nŻ\n\n\nRedo",{t:"#666666\n#0088ff\n#88ff00\n#ff8800"},"X\nCut\n/\nŹ","C\nCopy\n*\nĆ",{t:"#666666\n#0088ff\n#88ff00"},"V\nPaste\n\\",{t:"#666666\n\n#88ff00"},"B\n\n'",{x:2,t:"#666666\n\n#88ff00\n#ff8800",w:2.25},"N\n\n0\nŃ",{t:"#666666\n\n#88ff00"},"M\n\n1","<\n,\n2",">\n.\n3",{t:"#666666\n\n#88ff00\n#ff8800"},"?\n/\n@\n$",{c:"#777700",t:"#222222"},"Shift","Shift",{c:"#222222",t:"#666666"},"M","<\n,",">\n.","?\n/",{c:"#666666",t:"#222222",w:2.75},"Shift",{x:1.25},"↑",{x:1.25,c:"#222222",t:"#666666"},"1\nEnd","2\n↓","3\nPgDn",{c:"#666666",t:"#222222",h:2},"Enter"],
[{c:"#777700",w:1.25},"Ctrl",{c:"#222222",t:"#666666",w:1.25},"Fn",{c:"#777700",t:"#222222",w:1.25},"LAlt","Ctrl",{c:"#88ff00",a:7},"\n\n\n\nNUM",{c:"#00ff80",t:"#002040",p:"DCS SPACE",w:2.25},"\n\n\n\nMODIFIERS",{x:1.25,c:"#777700",t:"#222222",p:"DCS",a:4,w:1.25},"Delete",{w:1.25},"Backspace",{t:"#222222\n\n\n#ff8800",w:1.25},"Space\n\n\n_",{c:"#ff8800",t:"#222222",p:"DCS SPACE",w:6.25},"RAlt",{c:"#666666",p:"DCS",w:1.25},"Alt",{w:1.25},"Win",{w:1.25},"Menu",{w:1.25},"Ctrl",{x:0.25},"←","↓","→",{x:0.25,c:"#222222",t:"#666666",w:2},"0\nIns",".\nDel"]
```

Keymapper configuration:

``` ini
# Keymapper project page: https://github.com/houmain/keymapper
#
# Different ideas:
# - https://www.reddit.com/r/ErgoMechKeyboards/comments/1ghemwu/timeless_home_row_mods_focused_on_convenient/
# - godmode w Emacs lepsze od sticky keys, bo automatycznie się wyłącza
# - evilmode w Emacs (dla mnie wygodniejsze od godmode)
# - Meow's keypad mode
# - https://github.com/jyp/boon
# - http://xahlee.info/emacs/misc/xah-fly-keys.html
# - http://xahlee.info/emacs/emacs/ergonomic_emacs_keybinding.html
#
# - hydra
# - https://github.com/meedstrom/deianira - hydra everywhere
#
# - swap lalt with lctrl?
#
# - one hand keyboard? https://inkeys.wiki/en/keymaps/taipo
#   (Artsey? Ardux?)
# - Miryoku: https://github.com/manna-harbour/miryoku

###############################################################################
#
# Keyboards
#
###############################################################################

[system = "Linux"]
#FullSizeKeyboard = 'BY Tech Gaming Keyboard'
FullSizeKeyboard = 'USB USB Keyboard'
LeftHandKeyboard = 'Evision RGB Keyboard'

[system = "Windows"]
#FullSizeKeyboard = 'Gaming Keyboard'
FullSizeKeyboard = 'USB Keyboard'
LeftHandKeyboard = 'RGB Keyboard'

[default]

###############################################################################
#
# Key sequences
#
###############################################################################

Combo     = $0 !250ms $1              ; press both keys almost immediatelly
DoubleTap = $0 !250ms $0{!250ms}      ; dobule tap a key
Tap       = $0{!250ms} ; shorter than
Hold      = $0{200ms}  ; longer than

###############################################################################
#
# Virtual keys
#
###############################################################################

#
# keyboard layouts
#

SplitKeyboardMode = Virtual1
SingleKeyboardMode = Virtual2

#
# thumb keys defined as virtual keys
#
# as a workaround to a bug in keymapper (as of version 4.9.1)
# when using modifiers and two keyboards,
# see: https://github.com/houmain/keymapper/issues/207
#

ThumbLeft1 = Virtual10
ThumbLeft2 = Virtual11
ThumbLeft3 = Virtual12
ThumbLeft4 = Virtual13

ThumbRight1 = Virtual14
ThumbRight2 = Virtual15
ThumbRight3 = Virtual16
ThumbRight4 = Virtual17

#
# Virtual Modifiers
#

Modifiers = Virtual30
ModifiersSelected = Virtual31
AltLock = Virtual32
ShiftLock = Virtual33
CtrlLock = Virtual34
WinLock = Virtual35

###############################################################################
#
# Switch keyboard layouts
#
###############################################################################

[modifier="SplitKeyboardMode"]
[modifier="SingleKeyboardMode"]
Tap[ScrollLock] >> !SplitKeyboardMode !SingleKeyboardMode

[default]
Tap[ScrollLock] >> !SingleKeyboardMode SplitKeyboardMode
ScrollLock{1} >> !SplitKeyboardMode SingleKeyboardMode
ScrollLock{2} >> !SingleKeyboardMode SplitKeyboardMode

#
# notify user about turning SplitKeyboardMode on / off
#

[system = "Linux"]
SplitKeyboardMode >> $(notify-send 'Split Keyboard Mode ON') ^ $(notify-send 'Split Keyboard Mode OFF')
SingleKeyboardMode >> $(notify-send 'Single Keyboard Mode ON') ^ $(notify-send 'Single Keyboard Mode OFF')
#SplitKeyboardMode >> $(hid_ctrl rk618 custom-colors 0F0:2 040:13 F00 040:5 00F:4 0F0:2 FF0:2 000:6 0F0:7 040:5 0F0:3 000:6 0F0:7 040 F00:4 040 FF0:2 000:6 0F0:7 040:6 FF0:2 000:6 0F0:7 FF0:2 F00:1 FF0:5 000:6 0F0:6) ^ $(hid_ctrl rk618 solid-color 0 255 0)
#SplitKeyboardMode >> $(hid_ctrl rk618 custom-colors 0F0:1) ^ $(hid_ctrl rk618 solid-color 0 255 0)
#SplitKeyboardMode >> $(hid_ctrl rk618 solid-color 255 0 0) ^ $(hid_ctrl rk618 solid-color 0 255 0)

[system = "Windows"]
SplitKeyboardMode >> $(msg * Split Keyboard Mode ON) ^ $(msg * Split Keyboard Mode OFF)
SingleKeyboardMode >> $(msg * Single Keyboard Mode ON) ^ $(msg * Single Keyboard Mode OFF)

[default]

###############################################################################
#
# SplitKeyboardMode
# Two keyboards. One for the left hand. One for the right hand.
#
# SingleKeyboardNode
# One keyboard.
#
###############################################################################

#
# define thumb clusters
#

[device = LeftHandKeyboard, modifier="SplitKeyboardMode"]
Space >> Modifiers ^ Modifiers
P >> ThumbLeft2 ^ ThumbLeft2
N >> ThumbLeft3 ^ ThumbLeft3
AltLeft >> ThumbLeft4 ^ ThumbLeft4

[device = FullSizeKeyboard, modifier="SplitKeyboardMode"]
ControlLeft >> ThumbRight1 ^ ThumbRight1
MetaLeft >> ThumbRight2 ^ ThumbRight2
AltLeft >> ThumbRight3 ^ ThumbRight3
Space >> ThumbRight4 ^ ThumbRight4
G >> Modifiers ^ Modifiers

[modifier="SingleKeyboardMode"]
Space >> ThumbLeft1 ^ ThumbLeft1
AltLeft >> ThumbLeft2 ^ ThumbLeft2
AltRight >> ThumbRight1 ^ ThumbRight1
Quote >> Modifiers ^ Modifiers

[stage]

[modifier="SplitKeyboardMode"]
Ext = CapsLock
SymbolsLayer = ThumbLeft2
ThumbLeft3 >> ControlLeft
ThumbLeft4 >> AltLeft
ThumbRight1 >> Delete
ThumbRight2 >> Backspace
ThumbRight3 >> Space
ThumbRight4 >> AltRight

[modifier="SingleKeyboardMode"]
Ext = CapsLock
ThumbLeft1 >> Space
SymbolsLayer = ThumbLeft2
ThumbRight1 >> AltRight

[default]

#
# full keyboard for SplitKeyboardMode - letters
#

[device = FullSizeKeyboard, modifier="SplitKeyboardMode"]
Backquote >> 7
1 >> 8
2 >> 9
3 >> 0
4 >> Minus
5 >> Equal
6 >> Backspace
7 >> Backspace

Tab >> Y
Q >> U
W >> I
E >> O	
R >> P
T >> BracketLeft
Y >> BracketRight
U >> Backslash

CapsLock >> H
A >> J
S >> K
D >> L
F >> Semicolon
G >> Quote
H >> Enter
J >> Enter

ShiftLeft >> N
Z >> M
X >> Comma
C >> Period
V >> Slash
B >> ShiftRight
N >> ShiftRight

[stage]

#
# AltRight symbols
#

[modifier="SplitKeyboardMode"]
[modifier="SingleKeyboardMode"]
AltRight{U} >> "["
AltRight{I} >> "]"
AltRight{D} >> "{"
AltRight{F} >> "}"
AltRight{J} >> "("
AltRight{K} >> ")"

AltRight{Space} >> "_"
AltRight{Q} >> "~"
AltRight{Slash} >> "$"

[default]

#
# numeric layer
#
# inspired by: https://getreuer.info/posts/keyboards/symbol-layer/index.html
# but moved parentheses to RAlt and placed number pad instead
#

[modifier="SplitKeyboardMode SymbolsLayer"]
[modifier="SingleKeyboardMode SymbolsLayer"]
CapsLock >> Enter
Q >> "`"
W >> "<"
E >> ">"
R >> '"'
T >> "."

A >> "!"
S >> "-"
D >> "+"
F >> "="
G >> "#"

ShiftLeft >> ":"

Z >> "^"
X >> "/"
C >> "*"
V >> Backslash
B >> "'"

Y >> "&"
U >> "7"
I >> "8"
O >> "9"
P >> "%"

H >> "|"
J >> "4"
K >> "5"
L >> "6"
Semicolon >> "?"

N >> "0"
M >> "1"
Comma >> "2"
Period >> "3"
Slash >> "@"

[default]

#
# Modifiers key
#

[modifier="Modifiers"]
ContextActive >> ^ !ModifiersSelected !AltLock !ShiftLock !CtrlLock !WinLock
AltLock >> AltLeft
ShiftLock >> ShiftLeft
CtrlLock >> ControlLeft
WinLock >> MetaLeft

[modifier="Modifiers !ModifiersSelected"]
S >> AltLock ^ ModifiersSelected
D >> ShiftLock ^ ModifiersSelected
F >> CtrlLock ^ ModifiersSelected
G >> WinLock ^ ModifiersSelected

[default]

#
# Extend key
#

Ext >>

#Ext{F} !2000ms >> "Control" ^ "!Control"

#Ext{(D F)} !2000ms Any   >> ShiftLeft{ControlRight{Any}}
#Ext{F} !2000ms Any   >> ControlRight{Any}
#Ext{D} !2000ms Any   >> ShiftLeft{Any}

# modifiers
Ext{S}    >> Alt
Ext{D}    >> Shift
Ext{F}    >> Control

# cursor keys
Ext{I}    >> ArrowUp
Ext{K}    >> ArrowDown
Ext{J}    >> ArrowLeft
Ext{L}    >> ArrowRight
Ext{U}    >> Home
Ext{O}    >> End
Ext{Y}    >> PageUp
Ext{H}    >> PageDown

Ext{Semicolon} >> Backspace
Ext{Q}         >> Escape
Ext{P}         >> Delete

Ext{X}               >> edit_cut
Ext{C}               >> edit_copy
Ext{V}               >> edit_paste
Ext{E}               >> find
Ext{Z}               >> edit_undo
(Ext Shift){Z}       >> edit_redo
#Ext{F}               >> find

# the Ext modifier together with other keys should have no effect
Ext{Any}  >>

#
# default mappings for abstract commands
#

edit_copy            >> Control{C}
edit_cut             >> Control{X}
edit_paste           >> Control{V}
edit_undo            >> Control{Z}
edit_redo            >> Control{Y}
find                 >> Control{F}

###############################################################################
#
# Emacs
#
###############################################################################

#[class=/emacs/i]
[title=/GNU Emacs/i]
Hold[CapsLock] >> Control
#Tap[CapsLock] >> Escape
Escape >> Control{G}
#ControlLeft{CapsLock} >> CapsLock
#CapsLock >>
Control{X} >> Control{W}                      ; cut
Control{C} >> AltLeft{W}                      ; copy
Control{V} >> Control{Y}                      ; paste
Control{A} >> Control{X} H                    ; select all
Control{S} >> Control{X} Control{S}           ; save
Control{O} >> Control{X} Control{F}           ; open
Control{F} >> Control{S}                      ; search
(Shift Control){F} >> Control{R}              ; search backward
Control{W} >> Control{X} K                    ; kill buffer
Control{Z} >> Control{X} U                    ; undo
Control{Y} >> (Control AltLeft Shift){Minus}  ; redo
```
